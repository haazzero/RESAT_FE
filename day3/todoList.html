<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>todoList.html</title>
<style>
@font-face {font-family: Orbit-Regular; src:url("../resources/Orbit-Regular.ttf");}	
body {font-family: Orbit-Regular;}
#todoList { margin-left: -20px; }
#remove{ visibility: hidden; }
</style>
</head>
<body>
	<h3>오늘의 할일</h3>
	
	<div>
		<form>
         <input type="text" id="todo" autofocus placeholder="할 일을 입력하세요"> <!--placeholder : 예시 텍스트  -->
         <button type="button" id="add" onclick="addTodo()">추가</button>	
         <button type="button" id="remove" onclick="removeTodo()">모두 지우기</button>		
         </form>
         <ul id="todoList"></ul>
    </div> 
    
    <script>
    	//'id=todo'에 할 일을 입력하고,
    	// 페이지에 li 원이 생기면서 할 일에 입력한 리스트가 생기고
    	//'모두 지우기' 버튼을 누르면
    	// 입력한 리스트를 모두 지움
    	// event.key
    	
    	var add = document.getElementById('add');
		var remove = document.getElementById('remove');
		var ul = document.createElement('todoList');
		var todoInput = document.getElementById('todo');
		
		document.body.appendChild(ul);
// 			console.log(ul.childNodes); 확인용
//			console.log(event)
//			console.log(event.key);
// 			console.log(ul.childNodes);

		//'추가'버튼을 누르면
		function addTodo () { 
			if(todoInput.value !== ''){
			var li = document.createElement('li');
				li.textContent = todoInput.value;
				ul.appendChild(li);
				todoInput.value = '';
				remove.style.visibility = 'visible'; //모두지우기 버튼 보이기
			} else {
				alert('내용을 입력해주세요.');
			}
		}

		//엔터키가 입력되면, 값이 입력되면 값이 입력해주세요
		todoInput.onkeydown = function(){   
			if (event.key === 'Enter') {
			event.preventDefault(); //기존 이벤트 막아서 반복 막기
			addTodo(); //기존의 추가 버튼 누를시와 동일한 함수 호출
			}
		}
		 
		//'모두 지우기' 버튼을 누르면
		function removeTodo () {
				var really = confirm('할 일을 모두 지우시겠습니까?'); //'정말 삭제하시겠습니까?'로 confirm을 띄우기
						if (really) { //기본이 true
							ul.innerHTML = '';
							remove.style.visibility = 'hidden';
							alert('할 일이 모두 삭제 되었습니다.');
						} else {
							alert('취소 되었습니다.');
						}
					}
		//1개 지우기
		ul.onclick = function (event) {
			var target = event.target;
												// console.log(ul.childNodes)에서 찾아온 node name
			if (target.nodeName === 'LI') {
				var really = confirm('정말 지우시겠습니까?');
				if (really) {
					target.remove();
				}
			}
		}
    </script>
</body>
</html>