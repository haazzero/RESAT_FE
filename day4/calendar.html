<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>calendar</title>
<!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<style>
/* í°íŠ¸ ì ìš© */
@font-face {
    font-family: 'Cafe24Ssurround';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2105_2@1.0/Cafe24Ssurround.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}
body{ font-family: 'Cafe24Ssurround', sans-serif; }   
.calendar{
	text-align: center;
	margin: 30px auto;
    width: 360px;
}
.calendar .cal_nav {
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: 700;
    font-size: 45px;
    line-height: 78px;
}

.calendar .cal_nav .year-month {
    width: 300px;
    text-align: center;
    line-height: 1;
}

.calendar .cal_nav .nav {
    display: flex;
    border: 1px solid #333333;
    border-radius: 5px;
}

.calendar .cal_nav .go-prev,
.calendar .cal_nav .go-next {
    display: block;
    width: 50px;
    height: 78px;
    font-size: 0;
    display: flex;
    justify-content: center;
    align-items: center;
}

.calendar .cal_nav .go-prev::before,
.calendar .cal_nav .go-next::before {
    content: "";
    display: block;
    width: 20px;
    height: 20px;
    border: 3px solid #000;
    border-width: 3px 3px 0 0;
    transition: border 0.1s;
}

/* < > ë²„íŠ¼ í˜¸ë²„ ì‹œ  */
.calendar .cal_nav .go-prev:hover::before,
.calendar .cal_nav .go-next:hover::before {
    border-color: #ed2a61;
}

.calendar .cal_nav .go-prev::before {
    transform: rotate(-135deg);
}

.calendar .cal_nav .go-next::before {
    transform: rotate(45deg);
}

.calendar .cal_wrap {
    padding-top: 40px;
    position: relative;
    margin: 0 auto;
}

.calendar .cal_wrap .days {
    display: flex;
    margin-bottom: 20px;
    padding-bottom: 20px;
    border-bottom: 1px solid #ddd;
}

.calendar .cal_wrap::after {
    top: 368px;
}

.calendar .cal_wrap .day {
    display:flex;
    align-items: center;
    justify-content: center;
    width: calc(100% / 7);
    text-align: left;
    color: #999;
    font-size: 12px;
    text-align: center;
    border-radius:5px
}
/* Today ê°•ì¡° */
/* .current.today {background: rgb(242 242 242);} */
.current.today {background: #E8F5FF}

.calendar .cal_wrap .dates {
    display: flex;
    flex-flow: wrap;
    height: 290px;
}
/* í† ìš”ì¼ */
.calendar .cal_wrap .day:nth-child(7n -1) { color: #3c6ffa; }
/* ì¼ìš”ì¼ */
.calendar .cal_wrap .day:nth-child(7n) { color: #ed2a61; }

.calendar .cal_wrap .day.disable {color: #ddd;}
</style>

</head>
<body>
	<div class="calendar">
        <div class="cal_nav">
            <a href="javascript:;" class="nav-btn go-prev">prev</a>
            <div class="year-month"></div>
            <a href="javascript:;" class="nav-btn go-next">next</a>
        </div>
        <div class="cal_wrap">
            <div class="days">
              <div class="day">MON</div>
              <div class="day">TUE</div>
              <div class="day">WED</div>
              <div class="day">THU</div>
              <div class="day">FRI</div>
              <div class="day">SAT</div>
              <div class="day">SUN</div>
            </div>
            <div class="dates"></div>
        </div>
	</div>

<!-- Modalì°½ --------------------------->
<div class="modal fade" id="calendarModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
<div class="modal-dialog">
    <div class="modal-content">
       
        <!-- í—¤ë” -->
        <div class="modal-header">
            <h4 class="modal-title" id="myModalLabel">ì¼ì • ì…ë ¥ğŸ“</h4>
        </div>
        <!-- ë©”ëª¨ ì…ë ¥ì°½ -->
        <div class="modal-body">
            <div class="form-group">
                <label>ì˜¤ëŠ˜ì˜ ë‚ ì§œ</label>
                <input type="text" name="consultNo" id="consultNo"
                     class="inputZero" readonly style="margin-bottom: 5px">
        </div>
        <!-- í‘¸í„° -->
        <div class="modal-footer">
                <button id="modBtn" type="button" class="btn btn-warning">ìˆ˜ì •</button>
                <button id="addBtn" type="button" class="btn btn-primary">ë“±ë¡</button>
                <button id="closeBtn" type="button" class="btn btn-light" data-dismiss="modal">ë‹«ê¸°</button>
        </div>

    </div><!-- /.modal-content -->
</div> <!-- /.modal-dialog -->
</div> <!-- /.modal -->
<!-- END Modalì°½ --------------------------->
    
<!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<!-- ì œì´ì¿¼ë¦¬ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> 
<!-- ìŠ¤í¬ë¦½íŠ¸ -->
<script>
// í˜ì´ì§€ê°€ ë¡œë“œë˜ë©´ ë‹¬ë ¥í•¨ìˆ˜ë¥¼ ë Œë”ë§
/*
    ë‹¬ë ¥ ë Œë”ë§ í•  ë•Œ í•„ìš”í•œ ì •ë³´ ëª©ë¡ 
    - í˜„ì¬ ì›”(ì´ˆê¸°ê°’ : í˜„ì¬ ì‹œê°„)
    - ê¸ˆì›” ë§ˆì§€ë§‰ì¼ ë‚ ì§œì™€ ìš”ì¼
    - ì „ì›” ë§ˆì§€ë§‰ì¼ ë‚ ì§œì™€ ìš”ì¼
*/
$(document).ready(function() {
    calendarInit();
});


function calendarInit() {

    // ë‚ ì§œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    var date = new Date(); // í˜„ì¬ ë‚ ì§œ(ë¡œì»¬ ê¸°ì¤€) ê°€ì ¸ì˜¤ê¸°
    var utc = date.getTime() + (date.getTimezoneOffset() * 60 * 1000); // uct í‘œì¤€ì‹œ ë„ì¶œ
    var kstGap = 9 * 60 * 60 * 1000; // í•œêµ­ kst ê¸°ì¤€ì‹œê°„ ë”í•˜ê¸°
    var today = new Date(utc + kstGap); // í•œêµ­ ì‹œê°„ìœ¼ë¡œ date ê°ì²´ ë§Œë“¤ê¸°(ì˜¤ëŠ˜)
  
    var thisMonth = new Date(today.getFullYear(), today.getMonth(), today.getDate());
    // ë‹¬ë ¥ì—ì„œ í‘œê¸°í•˜ëŠ” ë‚ ì§œ ê°ì²´
    
    var currentYear = thisMonth.getFullYear(); // ë‹¬ë ¥ì—ì„œ í‘œê¸°í•˜ëŠ” ì—°
    var currentMonth = thisMonth.getMonth(); // ë‹¬ë ¥ì—ì„œ í‘œê¸°í•˜ëŠ” ì›”
    var currentDate = thisMonth.getDate(); // ë‹¬ë ¥ì—ì„œ í‘œê¸°í•˜ëŠ” ì¼

    // kst ê¸°ì¤€ í˜„ì¬ì‹œê°„
    //console.log(thisMonth);
    //Thu Nov 16 2023 00:00:00 GMT+0900 (í•œêµ­ í‘œì¤€ì‹œ)

    // ìº˜ë¦°ë” ë Œë”ë§, ì´ë²ˆ ë‹¬
    renderCalender(thisMonth);

    function renderCalender(thisMonth) {

        // ë Œë”ë§ì„ ìœ„í•œ ë°ì´í„° ì •ë¦¬
        currentYear = thisMonth.getFullYear();
        currentMonth = thisMonth.getMonth();
        currentDate = thisMonth.getDate();

        // ì´ì „ ë‹¬ì˜ ë§ˆì§€ë§‰ ë‚  ë‚ ì§œì™€ ìš”ì¼ êµ¬í•˜ê¸°
        var startDay = new Date(currentYear, currentMonth, 0);
        var prevDate = startDay.getDate();
        var prevDay = startDay.getDay();

        // ì´ë²ˆ ë‹¬ì˜ ë§ˆì§€ë§‰ë‚  ë‚ ì§œì™€ ìš”ì¼ êµ¬í•˜ê¸°
        var endDay = new Date(currentYear, currentMonth + 1, 0);
        var nextDate = endDay.getDate();
        var nextDay = endDay.getDay();

        //console.log(prevDate, prevDay, nextDate, nextDay);

        // year-month classì— í˜„ì¬ ë…„ ì›” í‘œê¸°
        $('.year-month').text(currentYear + '.' + (currentMonth + 1));

        // ë Œë”ë§ html ìš”ì†Œ ìƒì„±
        calendar = document.querySelector('.dates')
        calendar.innerHTML = '';
        
        // ì§€ë‚œë‹¬
        for (var i = prevDate - prevDay + 1; i <= prevDate; i++) {
            calendar.innerHTML = calendar.innerHTML + '<div class="day prev disable">' + i + '</div>'
        }
        // ì´ë²ˆë‹¬
        for (var i = 1; i <= nextDate; i++) {
            calendar.innerHTML = calendar.innerHTML + '<div class="day current">' + i + '</div>'
        }
        // ë‹¤ìŒë‹¬
        for (var i = 1; i <= (7 - nextDay == 7 ? 0 : 7 - nextDay); i++) {
            calendar.innerHTML = calendar.innerHTML + '<div class="day next disable">' + i + '</div>'
        }

        // ì˜¤ëŠ˜ ë‚ ì§œ í‘œê¸°
        if (today.getMonth() == currentMonth) {
            todayDate = today.getDate();
            var currentMonthDate = document.querySelectorAll('.dates .current');
            currentMonthDate[todayDate -1].classList.add('today');
        }
    }

    // ì´ì „ë‹¬ë¡œ ì´ë™
    $('.go-prev').on('click', function() {
        thisMonth = new Date(currentYear, currentMonth - 1, 1);
        renderCalender(thisMonth);
    });

    // ë‹¤ìŒë‹¬ë¡œ ì´ë™
    $('.go-next').on('click', function() {
        thisMonth = new Date(currentYear, currentMonth + 1, 1);
        renderCalender(thisMonth); 
    });
}


// ë©”ëª¨ ëª¨ë‹¬ì°½ -------------------------------------------------- 
var modal = $('#calendarModal');

	//ë‚ ì§œ 1ê°œ ëˆ„ë¥´ë©´ ëª¨ë‹¬ ì°½ í‘œì‹œ
	$('.dates').on('click', function() {
		modal.find('input').val(''); // inputì— ì…ë ¥ë˜ì–´ìˆëŠ” ê°’ë“¤ì„ ëª¨ë‘ ì§€ìš°ê¸°! ì•ˆ ê·¸ëŸ¬ë©´ ì „ì— ì‘ì„±í•œ ê°’ë“¤ì´ ë‚¨ìŒ
		// modal.find("button[id != 'closeBtn']").hide(); // close ë²„íŠ¼ ë¹¼ê³  ë‹¤ ìˆ¨ê¹€
		// addBtn.show(); // ë“±ë¡ ë²„íŠ¼ì„ ëˆŒë €ìœ¼ë‹ˆ addë§Œ ë³´ì´ê²Œ í•¨
		//plusBtn.show();                        // #ìœ¼ë¡œ ê°€ì ¸ì˜¬ ë•Œ ë“±ë¡ ë²„íŠ¼ì„ ëˆŒë €ìœ¼ë‹ˆ addë§Œ ë³´ì´ê²Œ í•¨
		modal.modal('show');
		// modal.find('#consultNo').val(consultNoVal); //ê²¬ì ìƒë‹´ ë²ˆí˜¸ë¥¼ ìë™ìœ¼ë¡œ í‘œì‹œ
	});
	// END ë‚ ì§œ 1ê°œ ëˆ„ë¥´ë©´ ëª¨ë‹¬ ì°½ í‘œì‹œ

    // ëª¨ë‹¬ ì°½ ë‹«ê¸°
    $('#closeBtn').on('click', function() {
        modal.modal('hide');
    });

// END ë©”ëª¨ ëª¨ë‹¬ì°½ -------------------------------------------------- 

</script>

</body>
</html>
